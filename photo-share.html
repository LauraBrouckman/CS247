<!doctype html>
<html ng-app="cs142App" ng-controller="MainController">
    <head>

        <title>Photo App Version {{main.version || "CS142 Class Project"}}</title>

        <link href="./node_modules/angular-material/angular-material.css" rel="stylesheet" />
    
        <script src="./node_modules/angular/angular.js" type="text/javascript" ></script>
        <script src="./node_modules/angular-animate/angular-animate.js" type="text/javascript" ></script>
        <script src="./node_modules/angular-aria/angular-aria.js" type="text/javascript" ></script>
        <script src="./node_modules/angular-material/angular-material.js" type="text/javascript" ></script>

        <script src="node_modules/angular-route/angular-route.js"></script>
		<script src="./node_modules/angular-resource/angular-resource.js"  type="text/javascript" ></script>
		
        <script src="mainController.js"></script>
        <link rel="stylesheet" type="text/css" href="main.css" />

		<script src="components/login-register/login-registerController.js"></script>
        <link rel="stylesheet" type="text/css" href="components/login-register/login-register.css" />
		
        <script src="components/user-list/user-listController.js"></script>
        <link rel="stylesheet" type="text/css" href="components/user-list/user-list.css" />

        <script src="components/user-detail/user-detailController.js"></script>
        <link rel="stylesheet" type="text/css" href="components/user-detail/user-detail.css" />

        <script src="components/user-photos/user-photosController.js"></script>
        <link rel="stylesheet" type="text/css" href="components/user-photos/user-photos.css" />
    
		<script src="components/activity-feed/activity-feedController.js"></script>
		<link rel="stylesheet" type="text/css" href="components/activity-feed/activity-feed.css" />
	</head>

    <body layout="column">

        <md-toolbar layout = "row">
			<div class = "cs142-main-toolbar-title"> Instagram 2.0 </div>
			<div class = "cs142-main-toolbar-right"> {{main.title}}</div>
			<div class = "cs142-main-toolbar-photo">
				<input class="cs142-main-toolbar-photo-a" ng-if="main.userLoggedIn" type="file" accept="image/*"  onchange="angular.element(this).scope().inputFileNameChanged(this)">
				<button class="cs142-main-toolbar-photo-b cs142-main-toolbar-button" ng-if="main.userLoggedIn" ng-click="uploadPhoto()" >Add Photo</button>
				<div ng-if="photoError" class="cs142-main-toolbar-photo-c">Could not upload photo</div>
			</div>
			<md-menu-bar ng-if="main.userLoggedIn" class = "cs142-main-menu">
				<md-menu aria-label="menu">
					<button ng-click="$mdOpenMenu()" class = "cs142-main-menu-title">
						Menu
					</button>
					<md-menu-content>
						
						<md-menu-item>
							<a href="#/activities"class = "cs142-main-menu-item">
								Activity Feed
							</a>
						</md-menu-item>
						<md-menu-divider></md-menu-divider>
					
						<md-menu-item>
							<md-button ng-click="logout()">
								Logout
							</md-button>
						</md-menu-item>
						<md-menu-divider></md-menu-divider>
						
						<md-menu-item>
							<md-button ng-click="deleteUser()">
								Delete Profile
							</md-button>
						</md-menu-item>
						<md-menu-divider></md-menu-divider>
						
					</md-menu-content>
				</md-menu>
			</md-menu-bar>
		</md-toolbar>

        <div class="container" flex layout="row">
            <md-sidenav md-is-locked-open="true" class="md-whiteframe-z2" ng-if="main.userLoggedIn">
                <div ng-include="'components/user-list/user-listTemplate.html'" ng-controller="UserListController"></div>
            </md-sidenav>

            <md-content flex id="content">
                <div ng-view></div>
            </md-content>

        </div>

    </body>
</html>
